<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LeaseBot AI Empire - Your Poetic Guide to Perfect Rentals</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800 text-white">
    <!-- Header -->
    <header class="bg-black/20 backdrop-blur-sm border-b border-blue-500/30">
        <div class="container mx-auto px-4 py-6">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center font-bold">
                        LB
                    </div>
                    <h1 class="text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent">
                        LeaseBot AI Empire
                    </h1>
                </div>
                <div class="flex items-center space-x-4">
                    <button class="flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg transition-colors">
                        <i data-lucide="phone" class="w-4 h-4"></i>
                        <span>Call Us</span>
                    </button>
                    <button id="chatBtn" class="flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors">
                        <i data-lucide="message-circle" class="w-4 h-4"></i>
                        <span>Chat</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="py-20 text-center">
        <div class="container mx-auto px-4">
            <h2 class="text-5xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent">
                Your Poetic Guide to Perfect Rentals
            </h2>
            <p class="text-xl text-gray-300 mb-8 max-w-2xl mx-auto">
                Where smart technology meets beautiful living. Finding your dream home just got easier, faster, and maybe even a little fun.
            </p>
            <div class="flex justify-center">
                <div class="relative max-w-md w-full">
                    <i data-lucide="search" class="absolute left-3 top-3 w-5 h-5 text-gray-400"></i>
                    <input
                        type="text"
                        id="searchInput"
                        placeholder="Search by city or description..."
                        class="w-full pl-10 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white placeholder-gray-400"
                    />
                </div>
            </div>
        </div>
    </section>

    <!-- Listings Grid -->
    <section class="py-12">
        <div class="container mx-auto px-4">
            <h3 class="text-3xl font-bold mb-8 text-center">Available Properties</h3>
            
            <div id="loadingSpinner" class="text-center py-12">
                <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto"></div>
                <p class="mt-4 text-gray-300">Finding your perfect matches...</p>
            </div>
            
            <div id="listingsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 hidden">
                <!-- Listings will be populated here -->
            </div>
        </div>
    </section>

    <!-- Chat Widget -->
    <div id="chatWidget" class="fixed bottom-4 right-4 w-96 h-96 bg-black/90 backdrop-blur-sm border border-blue-500/30 rounded-lg flex-col hidden">
        <div class="flex items-center justify-between p-4 border-b border-blue-500/30">
            <h4 class="font-semibold text-blue-300">LeaseBot AI</h4>
            <button id="closeChatBtn" class="text-gray-400 hover:text-white text-xl">×</button>
        </div>
        
        <div id="chatMessages" class="flex-1 overflow-y-auto p-4 space-y-3">
            <div class="flex justify-start">
                <div class="max-w-xs px-3 py-2 rounded-lg bg-gray-700 text-gray-100">
                    Hey there! I'm LeaseBot, your AI guide to finding amazing rentals. I speak fluent apartment-hunting and I'm here to make your search surprisingly delightful. What can I help you discover?
                </div>
            </div>
        </div>
        
        <div class="p-4 border-t border-blue-500/30">
            <div class="flex space-x-2">
                <input
                    type="text"
                    id="chatInput"
                    placeholder="Tell me what you're looking for..."
                    class="flex-1 px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white placeholder-gray-400"
                />
                <button id="sendChatBtn" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors">
                    Send
                </button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-black/20 backdrop-blur-sm border-t border-blue-500/30 py-8">
        <div class="container mx-auto px-4 text-center text-gray-400">
            <p>© 2025 LeaseBot AI Empire. Where finding home becomes poetry.</p>
        </div>
    </footer>

    <script>
        // Sample data from your Google Sheet
        const sampleListings = [
            {
                id: 1,
                city: 'San Diego',
                price: '$2,350/mo',
                bedrooms: '2 BR',
                description: 'Bright 2BR apartment with ocean views and modern amenities. Walk to beach!',
                link: 'https://example.com/listing123',
                image: 'https://images.craigslist.org/00S0S_hT35X3PMqHy_0CI0t2_600x450.jpg'
            },
            {
                id: 2,
                city: 'San Francisco',
                price: '$2,100/mo',
                bedrooms: '1 BR',
                description: 'Near BART, bright studio with city views. Perfect for young professionals.',
                link: 'https://example.com/listing124',
                image: 'https://images.craigslist.org/00b0b_1gOvAvdBhRf_0CI0t2_600x450.jpg'
            },
            {
                id: 3,
                city: 'Los Angeles',
                price: '$2,750/mo',
                bedrooms: '1 BR',
                description: 'Pool access, gym included. Luxury living in the heart of LA.',
                link: 'https://example.com/listing125',
                image: 'https://images.craigslist.org/00V0V_4C7k2AvxPfz_0CI0t2_600x450.jpg'
            },
            {
                id: 4,
                city: 'Portland',
                price: '$1,950/mo',
                bedrooms: '1 BR',
                description: 'Vintage charm meets modern convenience. Bike-friendly neighborhood.',
                link: 'https://example.com/listing126',
                image: 'https://images.craigslist.org/00z0z_hZphl3bT6TN_0CI0t2_600x450.jpg'
            }
        ];

        let listings = [];
        let chatMessages = [];

        // Initialize Lucide icons
        lucide.createIcons();

        // Load listings
        function loadListings() {
            setTimeout(() => {
                listings = sampleListings;
                renderListings();
                document.getElementById('loadingSpinner').classList.add('hidden');
                document.getElementById('listingsGrid').classList.remove('hidden');
            }, 1000);
        }

        // Render listings
        function renderListings(filteredListings = listings) {
            const grid = document.getElementById('listingsGrid');
            grid.innerHTML = '';

            filteredListings.forEach(listing => {
                const listingCard = document.createElement('div');
                listingCard.className = 'bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg overflow-hidden hover:scale-105 transition-transform duration-300';
                listingCard.innerHTML = `
                    <div class="aspect-video bg-gradient-to-br from-blue-500/20 to-purple-500/20 flex items-center justify-center">
                        <img 
                            src="${listing.image}" 
                            alt="${listing.city} rental"
                            class="w-full h-full object-cover"
                            onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';"
                        />
                        <div class="hidden w-full h-full items-center justify-center text-gray-400">
                            <i data-lucide="map-pin" class="w-8 h-8"></i>
                        </div>
                    </div>
                    
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-3">
                            <h4 class="text-lg font-semibold text-blue-300">${listing.city}</h4>
                            <span class="text-2xl font-bold text-green-400">${listing.price}</span>
                        </div>
                        
                        <div class="flex items-center space-x-4 mb-3 text-gray-300">
                            <div class="flex items-center space-x-1">
                                <i data-lucide="bed" class="w-4 h-4"></i>
                                <span>${listing.bedrooms}</span>
                            </div>
                        </div>
                        
                        <p class="text-gray-300 mb-4 line-clamp-3">${listing.description}</p>
                        
                        <div class="flex space-x-2">
                            <button 
                                onclick="handleInquiry(${listing.id})"
                                class="flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors font-medium"
                            >
                                Inquire
                            </button>
                            <button class="flex-1 bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-lg transition-colors font-medium flex items-center justify-center space-x-2">
                                <i data-lucide="calendar" class="w-4 h-4"></i>
                                <span>Book Tour</span>
                            </button>
                            <button class="flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg transition-colors font-medium">
                                Apply Now
                            </button>
                        </div>
                    </div>
                `;
                grid.appendChild(listingCard);
            });
            
            // Reinitialize Lucide icons for new content
            lucide.createIcons();
        }

        // Search functionality
        document.getElementById('searchInput').addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();
            const filteredListings = listings.filter(listing =>
                listing.city.toLowerCase().includes(searchTerm) ||
                listing.description.toLowerCase().includes(searchTerm)
            );
            renderListings(filteredListings);
        });

        // Chat functionality
        document.getElementById('chatBtn').addEventListener('click', () => {
            document.getElementById('chatWidget').classList.remove('hidden');
            document.getElementById('chatWidget').classList.add('flex');
        });

        document.getElementById('closeChatBtn').addEventListener('click', () => {
            document.getElementById('chatWidget').classList.add('hidden');
            document.getElementById('chatWidget').classList.remove('flex');
        });

        function addChatMessage(type, text) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `flex ${type === 'user' ? 'justify-end' : 'justify-start'}`;
            messageDiv.innerHTML = `
                <div class="max-w-xs px-3 py-2 rounded-lg ${
                    type === 'user' 
                        ? 'bg-blue-600 text-white' 
                        : 'bg-gray-700 text-gray-100'
                }">
                    ${text}
                </div>
            `;
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function sendChatMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (!message) return;

            addChatMessage('user', message);
            input.value = '';

            // Smart AI response based on message content
            setTimeout(() => {
                const response = generateSmartResponse(message);
                addChatMessage('bot', response);
            }, 1000);
        }

        function generateSmartResponse(message) {
            const msg = message.toLowerCase();
            
            // City-specific responses
            if (msg.includes('san diego')) {
                const sdListings = listings.filter(l => l.city.toLowerCase().includes('san diego'));
                if (sdListings.length > 0) {
                    const listing = sdListings[0];
                    return `Great choice! I have a ${listing.bedrooms} in San Diego for ${listing.price}. ${listing.description} Want to know more about this area or schedule a tour?`;
                }
                return "San Diego is amazing! I have some great options there. The beach lifestyle, perfect weather, and vibrant neighborhoods make it really special. What's your budget range?";
            }
            
            if (msg.includes('san francisco') || msg.includes('sf')) {
                const sfListings = listings.filter(l => l.city.toLowerCase().includes('san francisco'));
                if (sfListings.length > 0) {
                    const listing = sfListings[0];
                    return `SF is incredible! I have a ${listing.bedrooms} for ${listing.price}. ${listing.description} The tech scene and culture here are unmatched. Interested in seeing it?`;
                }
                return "San Francisco has such unique character! Great food scene, tech opportunities, and those iconic hills. What type of place are you looking for?";
            }
            
            if (msg.includes('los angeles') || msg.includes('la')) {
                const laListings = listings.filter(l => l.city.toLowerCase().includes('los angeles'));
                if (laListings.length > 0) {
                    const listing = laListings[0];
                    return `LA is perfect for you! I have a ${listing.bedrooms} for ${listing.price}. ${listing.description} The entertainment industry and year-round sunshine make it special. Want to learn more?`;
                }
                return "Los Angeles offers everything - beaches, mountains, entertainment, and great weather! What neighborhood vibe are you going for?";
            }
            
            if (msg.includes('portland')) {
                const pdxListings = listings.filter(l => l.city.toLowerCase().includes('portland'));
                if (pdxListings.length > 0) {
                    const listing = pdxListings[0];
                    return `Portland is fantastic! I have a ${listing.bedrooms} for ${listing.price}. ${listing.description} The coffee culture, food scene, and outdoor access are amazing. Interested?`;
                }
                return "Portland has such a cool vibe! Great food, coffee culture, and easy access to nature. What's most important to you in a neighborhood?";
            }
            
            // Budget-related responses
            if (msg.includes('budget') || msg.includes('price') || msg.includes('$') || msg.includes('cost')) {
                const prices = listings.map(l => l.price).join(', ');
                return `I have places ranging from ${prices}. What's your budget range? I can show you the best options in that range and help you find great value!`;
            }
            
            // Bedroom-related responses
            if (msg.includes('bedroom') || msg.includes('br') || msg.includes('1br') || msg.includes('2br')) {
                const bedrooms = msg.includes('2') ? '2 BR' : '1 BR';
                const matchingListings = listings.filter(l => l.bedrooms === bedrooms);
                if (matchingListings.length > 0) {
                    const cities = matchingListings.map(l => l.city).join(', ');
                    return `I have ${bedrooms} options in ${cities}. Want to see what's available in a specific city?`;
                }
                return `Let me check what ${bedrooms} options I have available. Any preferred location?`;
            }
            
            // Amenity-related responses
            if (msg.includes('pool') || msg.includes('gym') || msg.includes('beach') || msg.includes('bart')) {
                const amenityListings = listings.filter(l => {
                    return l.description.toLowerCase().includes(msg.includes('pool') ? 'pool' : 
                           msg.includes('gym') ? 'gym' : 
                           msg.includes('beach') ? 'beach' : 'bart');
                });
                if (amenityListings.length > 0) {
                    const listing = amenityListings[0];
                    return `Perfect! I have a ${listing.bedrooms} in ${listing.city} for ${listing.price} that has exactly what you're looking for. ${listing.description} Want to schedule a tour?`;
                }
                return "Let me find places with those amenities! What city would you prefer?";
            }
            
            // General helpful responses
            if (msg.includes('help') || msg.includes('looking for')) {
                return "I'm here to help you find the perfect place! Tell me: What city interests you? What's your budget range? How many bedrooms do you need?";
            }
            
            if (msg.includes('tour') || msg.includes('visit') || msg.includes('see')) {
                return "I'd love to set up a tour! Which property caught your eye? I can arrange a viewing at your convenience.";
            }
            
            // Default intelligent response
            const responses = [
                "That's a great question! Let me help you find exactly what you're looking for. What city and budget range work best for you?",
                "I'd love to help you with that! Are you looking for something specific in terms of location, price, or amenities?",
                "Perfect! I can definitely help you find the right place. What's most important to you - location, price, or specific features?",
                "Great! Let me find you some options. Which city interests you most, and what's your ideal budget range?"
            ];
            
            return responses[Math.floor(Math.random() * responses.length)];
        }

        document.getElementById('sendChatBtn').addEventListener('click', sendChatMessage);
        document.getElementById('chatInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendChatMessage();
        });

        // Handle inquiry
        function handleInquiry(listingId) {
            const listing = listings.find(l => l.id === listingId);
            document.getElementById('chatWidget').classList.remove('hidden');
            document.getElementById('chatWidget').classList.add('flex');
            
            addChatMessage('user', `I'm interested in the ${listing.bedrooms} in ${listing.city} for ${listing.price}`);
            setTimeout(() => {
                addChatMessage('bot', `Excellent choice! This ${listing.city} place is absolutely stunning. Want to schedule a tour, or should I tell you more about what makes this neighborhood so special?`);
            }, 1000);
        }

        // Initialize the app
        loadListings();
    </script>
</body>
</html>
